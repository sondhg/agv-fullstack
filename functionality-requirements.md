# **Project Requirements Document: Web app as Central Controller for AGV system**

The following table outlines the detailed functional requirements of this web app. This web app contains a Django backend and a React frontend. The web app serves as a central controller for an Automated Guided Vehicle (AGV) system, which is designed to manage the scheduling and routing of AGVs in a fixed, known map environment. One of the main goals is to successfully implement ideas and techniques in a research paper as in file `algorithms-pseudocode.tex` to the web server, in order to properly achieve a smooth system where AGVs do not encounter collisions or deadlocks scenarios. The web app will be used to create orders, generate and update smat schedule. The web app will also provide a simulation program to mimic AGV position updates for testing purposes.

| Requirement ID | Description                  | User Story                                                                                                                                                                             | Expected Behavior/Outcome                                                                                                                                                                                                                                                                                                                                                                     |
| -------------- | ---------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| FR001          | Creating orders              | As a user, I want to be able to send orders. These orders data will be foundation input for later smart scheduling process.                                                            | The system should provide a clear way for the users to send one order at a time through a form, or import CSV files for quick batch orders creation on the frontend Orders webpage.                                                                                                                                                                                                           |
| FR002          | Creating map layout          | As a user, I want to be able to import 2 CSV files, one file for connections and distances between nodes, and the other file for relative cardinal directions between connected nodes. | The system should handle map creation data in Django app called map_data.                                                                                                                                                                                                                                                                                                                     |
| FR003          | Generating initial schedules | As a user, I want to be able to generate schedules based on orders I have sent.                                                                                                        | The system should provide a "Create Schedules" button on frontend Schedules webpage to generate schedules. All APIs for handling schedules creation should be in Django app named schedule_generate                                                                                                                                                                                           |
| FR004          | Updating schedules           | As a user, I want to see updates made to the initial schedules.                                                                                                                        | The system should handle communication between the server (central controller) and AGVs (local controllers). AGVs update their current positions when they reach an identified node, and server should perform calculations to make decisions and send those decisions to the AGVs for them to know what action they should take next, so that AGVs opeate smoothly and do not collide or stuck in deadlock situations.                                                        |
| FR005          | Simulation                   | As a user, I want to be able to mimic updating AGV positions because I do not have actual physical AGVs.                                                                               | The system should provide a clear way for the users to easily fake AGV position update through some kind of simulation program. The simulation program will act as local controllers instead of real AGVs. The simulation can be a separate program outside the Django server interacting with server's APIs, or the simulation can simply be some buttons and forms on the UI to test API calls like how Postman does. |
| FR006          | Viewing live parameters      | As a user, I want to be able to see live data such as speed, locations, ... as the AGV travels                                                                                         | The system should provide HTTP and WebSocket connection to server to display relevant data. AGVs (or simulation program) communicates with server via MQTT broker data packages                                                                                                                                                                                                               |
